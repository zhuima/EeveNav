/* empty css                                          */
import { c as createComponent, a as createAstro, e as renderTemplate, g as defineScriptVars, f as renderComponent, m as maybeRenderHead, d as addAttribute } from '../../../../chunks/astro/server_zWkKcK-x.mjs';
import 'kleur/colors';
import { $ as $$AdminLayout } from '../../../../chunks/AdminLayout_CCeVW3kt.mjs';
import { g as getDatabase } from '../../../../chunks/database_kl_IERA1.mjs';
/* empty css                                         */
export { renderers } from '../../../../renderers.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro();
const $$id = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$id;
  const cookies = Astro2.cookies;
  const isAuthenticated = cookies.get("admin_auth")?.value === "authenticated";
  if (!isAuthenticated) {
    return Astro2.redirect("/login");
  }
  const { id } = Astro2.params;
  const postId = Number(id);
  const db = getDatabase();
  let post = null;
  let error = null;
  try {
    post = await db.getPostById(postId);
    if (!post) {
      error = "\u6587\u7AE0\u4E0D\u5B58\u5728";
    }
  } catch (e) {
    error = "\u83B7\u53D6\u6587\u7AE0\u6570\u636E\u5931\u8D25";
    console.error("Error fetching post:", e);
  }
  if (error) {
    return new Response(`
    <html>
      <head><title>\u9519\u8BEF - EeveNav</title></head>
      <body>
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: Arial, sans-serif;">
          <div style="text-align: center;">
            <h1>\u9519\u8BEF</h1>
            <p>${error}</p>
            <a href="/admin/posts" style="color: blue;">\u8FD4\u56DE\u6587\u7AE0\u5217\u8868</a>
          </div>
        </div>
      </body>
    </html>
  `, {
      status: 404,
      headers: { "Content-Type": "text/html" }
    });
  }
  return renderTemplate(_a || (_a = __template(["", " <!-- \u5F15\u5165 marked.js \u7528\u4E8E Markdown \u89E3\u6790 -->  <script>(function(){", "\n  // Markdown \u9884\u89C8\u529F\u80FD\n  const contentTextarea = document.getElementById('content');\n  const previewContent = document.getElementById('preview-content');\n  const previewToggle = document.getElementById('preview-toggle');\n  const previewText = document.getElementById('preview-text');\n  const previewPane = document.getElementById('preview-pane');\n  \n  let isPreviewVisible = false;\n\n  // \u5207\u6362\u9884\u89C8\u663E\u793A\n  previewToggle?.addEventListener('click', () => {\n    isPreviewVisible = !isPreviewVisible;\n    \n    if (isPreviewVisible) {\n      previewPane?.classList.remove('hidden');\n      if (previewText) previewText.textContent = '\u9690\u85CF\u9884\u89C8';\n      updatePreview();\n    } else {\n      previewPane?.classList.add('hidden');\n      if (previewText) previewText.textContent = '\u663E\u793A\u9884\u89C8';\n    }\n  });\n\n  // \u5B9E\u65F6\u66F4\u65B0\u9884\u89C8\n  function updatePreview() {\n    if (isPreviewVisible && previewContent) {\n      const markdownText = contentTextarea.value;\n      if (markdownText.trim()) {\n        previewContent.innerHTML = window.marked.parse(markdownText);\n      } else {\n        previewContent.innerHTML = '<p class=\"text-gray-500 italic\">\u9884\u89C8\u5185\u5BB9\u5C06\u5728\u8FD9\u91CC\u663E\u793A...</p>';\n      }\n    }\n  }\n\n  // \u76D1\u542C\u5185\u5BB9\u53D8\u5316\n  contentTextarea.addEventListener('input', updatePreview);\n\n  // \u81EA\u52A8\u751F\u6210\u522B\u540D\n  const titleInput = document.getElementById('title');\n  const slugInput = document.getElementById('slug');\n  \n  titleInput.addEventListener('input', () => {\n    if (!slugInput.value) {\n      // \u7B80\u5355\u7684\u522B\u540D\u751F\u6210\uFF1A\u79FB\u9664\u7279\u6B8A\u5B57\u7B26\uFF0C\u7528\u8FDE\u5B57\u7B26\u8FDE\u63A5\n      const slug = titleInput.value\n        .toLowerCase()\n        .replace(/[^\\w\\s-]/g, '')\n        .replace(/\\s+/g, '-')\n        .replace(/-+/g, '-')\n        .replace(/^-+|-+$/g, ''); // \u79FB\u9664\u5F00\u5934\u548C\u7ED3\u5C3E\u7684\u8FDE\u5B57\u7B26\n      slugInput.value = slug;\n    }\n  });\n\n  // \u52A0\u8F7D\u5206\u7C7B\u6570\u636E\n  async function loadCategories() {\n    try {\n      const response = await fetch('/api/blog?action=categories');\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n      const categorySelect = document.getElementById('category');\n      \n      console.log('\u5206\u7C7B\u6570\u636E:', data); // \u8C03\u8BD5\u65E5\u5FD7\n      \n      if (data.success && data.categories) {\n        data.categories.forEach((category) => {\n          const option = document.createElement('option');\n          option.value = category.name;\n          option.textContent = category.name;\n          if (category.name === post.category) {\n            option.selected = true;\n          }\n          categorySelect.appendChild(option);\n        });\n      } else {\n        console.error('\u5206\u7C7B\u6570\u636E\u683C\u5F0F\u9519\u8BEF:', data);\n        showNotification('\u52A0\u8F7D\u5206\u7C7B\u5931\u8D25', 'error');\n      }\n    } catch (error) {\n      console.error('\u52A0\u8F7D\u5206\u7C7B\u5931\u8D25:', error);\n      showNotification('\u52A0\u8F7D\u5206\u7C7B\u5931\u8D25: ' + error.message, 'error');\n    }\n  }\n\n  // \u66F4\u65B0\u6587\u7AE0\n  async function updatePost(isDraft = false) {\n    const form = document.getElementById('post-form');\n    const formData = new FormData(form);\n    const tagsValue = formData.get('tags') || '';\n    \n    const postData = {\n      id: postId,\n      title: formData.get('title'),\n      slug: formData.get('slug'),\n      content: formData.get('content'),\n      des: formData.get('description'), // \u6CE8\u610F\uFF1A\u8868\u5355\u5B57\u6BB5\u662Fdescription\uFF0C\u6570\u636E\u5E93\u5B57\u6BB5\u662Fdes\n      category: formData.get('category'),\n      tags: tagsValue.split(',').map((tag) => tag.trim()).filter((tag) => tag),\n      cover: formData.get('cover') || '', // \u786E\u4FDD\u7A7A\u503C\u53D8\u4E3A\u7A7A\u5B57\u7B26\u4E32\n      external_url: formData.get('external_url') || '', // \u786E\u4FDD\u7A7A\u503C\u53D8\u4E3A\u7A7A\u5B57\u7B26\u4E32\n      status: isDraft ? 'draft' : 'published'\n    };\n\n    console.log('\u63D0\u4EA4\u7684\u6587\u7AE0\u6570\u636E:', postData); // \u8C03\u8BD5\u65E5\u5FD7\n\n    // \u57FA\u672C\u9A8C\u8BC1\n    if (!postData.title || !postData.title.trim()) {\n      showNotification('\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898', 'error');\n      return;\n    }\n    \n    if (!postData.category || !postData.category.trim()) {\n      showNotification('\u8BF7\u9009\u62E9\u6587\u7AE0\u5206\u7C7B', 'error');\n      return;\n    }\n    \n    if (!postData.content || !postData.content.trim()) {\n      showNotification('\u8BF7\u8F93\u5165\u6587\u7AE0\u5185\u5BB9', 'error');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/blog', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \n          action: 'update', \n          data: postData\n        })\n      });\n\n      console.log('API\u54CD\u5E94\u72B6\u6001:', response.status); // \u8C03\u8BD5\u65E5\u5FD7\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('API\u9519\u8BEF\u54CD\u5E94:', errorText);\n        throw new Error(`HTTP ${response.status}: ${errorText}`);\n      }\n\n      const result = await response.json();\n      console.log('API\u54CD\u5E94\u7ED3\u679C:', result); // \u8C03\u8BD5\u65E5\u5FD7\n      \n      if (result.success) {\n        // \u663E\u793A\u6210\u529F\u6D88\u606F\n        showNotification(isDraft ? '\u8349\u7A3F\u4FDD\u5B58\u6210\u529F\uFF01' : '\u6587\u7AE0\u66F4\u65B0\u6210\u529F\uFF01', 'success');\n        // \u5EF6\u8FDF\u8DF3\u8F6C\n        setTimeout(() => {\n          window.location.href = '/admin/posts';\n        }, 1500);\n      } else {\n        showNotification(result.error || result.message || '\u66F4\u65B0\u5931\u8D25', 'error');\n      }\n    } catch (error) {\n      console.error('\u66F4\u65B0\u5931\u8D25:', error);\n      showNotification('\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5: ' + error.message, 'error');\n    }\n  }\n\n  // \u901A\u77E5\u51FD\u6570\n  function showNotification(message, type = 'info') {\n    const notification = document.createElement('div');\n    notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${\n      type === 'success' ? 'bg-green-600 text-white' :\n      type === 'error' ? 'bg-red-600 text-white' :\n      'bg-blue-600 text-white'\n    }`;\n    notification.textContent = message;\n    \n    document.body.appendChild(notification);\n    \n    setTimeout(() => {\n      notification.remove();\n    }, 3000);\n  }\n\n  // \u7ED1\u5B9A\u4FDD\u5B58\u6309\u94AE\u4E8B\u4EF6\n  document.getElementById('save-draft-btn')?.addEventListener('click', (e) => {\n    e.preventDefault();\n    updatePost(true);\n  });\n\n  document.getElementById('update-btn')?.addEventListener('click', (e) => {\n    e.preventDefault();\n    updatePost(false);\n  });\n\n  // \u521D\u59CB\u5316\n  document.addEventListener('DOMContentLoaded', () => {\n    loadCategories();\n  });\n\n  // \u952E\u76D8\u5FEB\u6377\u952E\n  document.addEventListener('keydown', (e) => {\n    // Ctrl/Cmd + S \u4FDD\u5B58\u8349\u7A3F\n    if ((e.ctrlKey || e.metaKey) && e.key === 's') {\n      e.preventDefault();\n      updatePost(true);\n    }\n    // Ctrl/Cmd + Enter \u66F4\u65B0\n    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\n      e.preventDefault();\n      updatePost(false);\n    }\n  });\n})();<\/script> "], ["", " <!-- \u5F15\u5165 marked.js \u7528\u4E8E Markdown \u89E3\u6790 -->  <script>(function(){", "\n  // Markdown \u9884\u89C8\u529F\u80FD\n  const contentTextarea = document.getElementById('content');\n  const previewContent = document.getElementById('preview-content');\n  const previewToggle = document.getElementById('preview-toggle');\n  const previewText = document.getElementById('preview-text');\n  const previewPane = document.getElementById('preview-pane');\n  \n  let isPreviewVisible = false;\n\n  // \u5207\u6362\u9884\u89C8\u663E\u793A\n  previewToggle?.addEventListener('click', () => {\n    isPreviewVisible = !isPreviewVisible;\n    \n    if (isPreviewVisible) {\n      previewPane?.classList.remove('hidden');\n      if (previewText) previewText.textContent = '\u9690\u85CF\u9884\u89C8';\n      updatePreview();\n    } else {\n      previewPane?.classList.add('hidden');\n      if (previewText) previewText.textContent = '\u663E\u793A\u9884\u89C8';\n    }\n  });\n\n  // \u5B9E\u65F6\u66F4\u65B0\u9884\u89C8\n  function updatePreview() {\n    if (isPreviewVisible && previewContent) {\n      const markdownText = contentTextarea.value;\n      if (markdownText.trim()) {\n        previewContent.innerHTML = window.marked.parse(markdownText);\n      } else {\n        previewContent.innerHTML = '<p class=\"text-gray-500 italic\">\u9884\u89C8\u5185\u5BB9\u5C06\u5728\u8FD9\u91CC\u663E\u793A...</p>';\n      }\n    }\n  }\n\n  // \u76D1\u542C\u5185\u5BB9\u53D8\u5316\n  contentTextarea.addEventListener('input', updatePreview);\n\n  // \u81EA\u52A8\u751F\u6210\u522B\u540D\n  const titleInput = document.getElementById('title');\n  const slugInput = document.getElementById('slug');\n  \n  titleInput.addEventListener('input', () => {\n    if (!slugInput.value) {\n      // \u7B80\u5355\u7684\u522B\u540D\u751F\u6210\uFF1A\u79FB\u9664\u7279\u6B8A\u5B57\u7B26\uFF0C\u7528\u8FDE\u5B57\u7B26\u8FDE\u63A5\n      const slug = titleInput.value\n        .toLowerCase()\n        .replace(/[^\\\\w\\\\s-]/g, '')\n        .replace(/\\\\s+/g, '-')\n        .replace(/-+/g, '-')\n        .replace(/^-+|-+$/g, ''); // \u79FB\u9664\u5F00\u5934\u548C\u7ED3\u5C3E\u7684\u8FDE\u5B57\u7B26\n      slugInput.value = slug;\n    }\n  });\n\n  // \u52A0\u8F7D\u5206\u7C7B\u6570\u636E\n  async function loadCategories() {\n    try {\n      const response = await fetch('/api/blog?action=categories');\n      if (!response.ok) {\n        throw new Error(\\`HTTP \\${response.status}: \\${response.statusText}\\`);\n      }\n      const data = await response.json();\n      const categorySelect = document.getElementById('category');\n      \n      console.log('\u5206\u7C7B\u6570\u636E:', data); // \u8C03\u8BD5\u65E5\u5FD7\n      \n      if (data.success && data.categories) {\n        data.categories.forEach((category) => {\n          const option = document.createElement('option');\n          option.value = category.name;\n          option.textContent = category.name;\n          if (category.name === post.category) {\n            option.selected = true;\n          }\n          categorySelect.appendChild(option);\n        });\n      } else {\n        console.error('\u5206\u7C7B\u6570\u636E\u683C\u5F0F\u9519\u8BEF:', data);\n        showNotification('\u52A0\u8F7D\u5206\u7C7B\u5931\u8D25', 'error');\n      }\n    } catch (error) {\n      console.error('\u52A0\u8F7D\u5206\u7C7B\u5931\u8D25:', error);\n      showNotification('\u52A0\u8F7D\u5206\u7C7B\u5931\u8D25: ' + error.message, 'error');\n    }\n  }\n\n  // \u66F4\u65B0\u6587\u7AE0\n  async function updatePost(isDraft = false) {\n    const form = document.getElementById('post-form');\n    const formData = new FormData(form);\n    const tagsValue = formData.get('tags') || '';\n    \n    const postData = {\n      id: postId,\n      title: formData.get('title'),\n      slug: formData.get('slug'),\n      content: formData.get('content'),\n      des: formData.get('description'), // \u6CE8\u610F\uFF1A\u8868\u5355\u5B57\u6BB5\u662Fdescription\uFF0C\u6570\u636E\u5E93\u5B57\u6BB5\u662Fdes\n      category: formData.get('category'),\n      tags: tagsValue.split(',').map((tag) => tag.trim()).filter((tag) => tag),\n      cover: formData.get('cover') || '', // \u786E\u4FDD\u7A7A\u503C\u53D8\u4E3A\u7A7A\u5B57\u7B26\u4E32\n      external_url: formData.get('external_url') || '', // \u786E\u4FDD\u7A7A\u503C\u53D8\u4E3A\u7A7A\u5B57\u7B26\u4E32\n      status: isDraft ? 'draft' : 'published'\n    };\n\n    console.log('\u63D0\u4EA4\u7684\u6587\u7AE0\u6570\u636E:', postData); // \u8C03\u8BD5\u65E5\u5FD7\n\n    // \u57FA\u672C\u9A8C\u8BC1\n    if (!postData.title || !postData.title.trim()) {\n      showNotification('\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898', 'error');\n      return;\n    }\n    \n    if (!postData.category || !postData.category.trim()) {\n      showNotification('\u8BF7\u9009\u62E9\u6587\u7AE0\u5206\u7C7B', 'error');\n      return;\n    }\n    \n    if (!postData.content || !postData.content.trim()) {\n      showNotification('\u8BF7\u8F93\u5165\u6587\u7AE0\u5185\u5BB9', 'error');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/blog', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \n          action: 'update', \n          data: postData\n        })\n      });\n\n      console.log('API\u54CD\u5E94\u72B6\u6001:', response.status); // \u8C03\u8BD5\u65E5\u5FD7\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('API\u9519\u8BEF\u54CD\u5E94:', errorText);\n        throw new Error(\\`HTTP \\${response.status}: \\${errorText}\\`);\n      }\n\n      const result = await response.json();\n      console.log('API\u54CD\u5E94\u7ED3\u679C:', result); // \u8C03\u8BD5\u65E5\u5FD7\n      \n      if (result.success) {\n        // \u663E\u793A\u6210\u529F\u6D88\u606F\n        showNotification(isDraft ? '\u8349\u7A3F\u4FDD\u5B58\u6210\u529F\uFF01' : '\u6587\u7AE0\u66F4\u65B0\u6210\u529F\uFF01', 'success');\n        // \u5EF6\u8FDF\u8DF3\u8F6C\n        setTimeout(() => {\n          window.location.href = '/admin/posts';\n        }, 1500);\n      } else {\n        showNotification(result.error || result.message || '\u66F4\u65B0\u5931\u8D25', 'error');\n      }\n    } catch (error) {\n      console.error('\u66F4\u65B0\u5931\u8D25:', error);\n      showNotification('\u7F51\u7EDC\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5: ' + error.message, 'error');\n    }\n  }\n\n  // \u901A\u77E5\u51FD\u6570\n  function showNotification(message, type = 'info') {\n    const notification = document.createElement('div');\n    notification.className = \\`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 \\${\n      type === 'success' ? 'bg-green-600 text-white' :\n      type === 'error' ? 'bg-red-600 text-white' :\n      'bg-blue-600 text-white'\n    }\\`;\n    notification.textContent = message;\n    \n    document.body.appendChild(notification);\n    \n    setTimeout(() => {\n      notification.remove();\n    }, 3000);\n  }\n\n  // \u7ED1\u5B9A\u4FDD\u5B58\u6309\u94AE\u4E8B\u4EF6\n  document.getElementById('save-draft-btn')?.addEventListener('click', (e) => {\n    e.preventDefault();\n    updatePost(true);\n  });\n\n  document.getElementById('update-btn')?.addEventListener('click', (e) => {\n    e.preventDefault();\n    updatePost(false);\n  });\n\n  // \u521D\u59CB\u5316\n  document.addEventListener('DOMContentLoaded', () => {\n    loadCategories();\n  });\n\n  // \u952E\u76D8\u5FEB\u6377\u952E\n  document.addEventListener('keydown', (e) => {\n    // Ctrl/Cmd + S \u4FDD\u5B58\u8349\u7A3F\n    if ((e.ctrlKey || e.metaKey) && e.key === 's') {\n      e.preventDefault();\n      updatePost(true);\n    }\n    // Ctrl/Cmd + Enter \u66F4\u65B0\n    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\n      e.preventDefault();\n      updatePost(false);\n    }\n  });\n})();<\/script> "])), renderComponent($$result, "AdminLayout", $$AdminLayout, { "title": "\u7F16\u8F91\u6587\u7AE0", "activeSection": "posts", "data-astro-cid-shcts5ct": true }, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="min-h-screen bg-gray-50" data-astro-cid-shcts5ct> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6" data-astro-cid-shcts5ct> <!-- 页面头部 --> <div class="mb-6 flex items-center justify-between" data-astro-cid-shcts5ct> <div data-astro-cid-shcts5ct> <h1 class="text-2xl font-bold text-gray-900" data-astro-cid-shcts5ct>编辑文章</h1> <p class="text-gray-600 mt-1" data-astro-cid-shcts5ct>编辑现有文章内容</p> </div> <div class="flex items-center gap-3" data-astro-cid-shcts5ct> <a href="/admin/posts" class="px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors" data-astro-cid-shcts5ct>
取消
</a> <button id="save-draft-btn" class="px-4 py-2 text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors" data-astro-cid-shcts5ct>
保存草稿
</button> <button id="update-btn" class="px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-sm" data-astro-cid-shcts5ct>
更新文章
</button> </div> </div> <form id="post-form" class="space-y-6" data-astro-cid-shcts5ct> <!-- 基本信息 --> <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6" data-astro-cid-shcts5ct> <h2 class="text-lg font-semibold text-gray-900 mb-4" data-astro-cid-shcts5ct>基本信息</h2> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6" data-astro-cid-shcts5ct> <!-- 标题 --> <div class="lg:col-span-2" data-astro-cid-shcts5ct> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-shcts5ct>文章标题 *</label> <input type="text" id="title" name="title" required${addAttribute(post.title, "value")} class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="请输入文章标题" data-astro-cid-shcts5ct> </div> <!-- 别名 --> <div data-astro-cid-shcts5ct> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-shcts5ct>文章别名 (URL)</label> <input type="text" id="slug" name="slug"${addAttribute(post.slug, "value")} class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="自动生成或手动输入" data-astro-cid-shcts5ct> <p class="mt-1 text-xs text-gray-500" data-astro-cid-shcts5ct>用于URL，如果为空将自动生成</p> </div> <!-- 分类 --> <div data-astro-cid-shcts5ct> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-shcts5ct>分类 *</label> <select id="category" name="category" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" data-astro-cid-shcts5ct> <option value="" data-astro-cid-shcts5ct>请选择分类</option> </select> </div> <!-- 摘要 --> <div class="lg:col-span-2" data-astro-cid-shcts5ct> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-shcts5ct>文章摘要</label> <textarea id="description" name="description" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none" placeholder="简要描述文章内容，用于SEO和列表展示" data-astro-cid-shcts5ct>${post.des}</textarea> </div> <!-- 标签 --> <div data-astro-cid-shcts5ct> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-shcts5ct>标签</label> <input type="text" id="tags" name="tags"${addAttribute(Array.isArray(post.tags) ? post.tags.join(", ") : "", "value")} class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="用逗号分隔多个标签" data-astro-cid-shcts5ct> <p class="mt-1 text-xs text-gray-500" data-astro-cid-shcts5ct>例如：JavaScript, React, 前端开发</p> </div> <!-- 封面图 --> <div data-astro-cid-shcts5ct> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-shcts5ct>封面图片</label> <input type="url" id="cover" name="cover"${addAttribute(post.cover, "value")} class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="图片URL地址" data-astro-cid-shcts5ct> </div> <!-- 外部链接 --> <div class="lg:col-span-2" data-astro-cid-shcts5ct> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-shcts5ct>外部链接</label> <input type="url" id="external_url" name="external_url"${addAttribute(post.external_url || "", "value")} class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="如果是外部资源，可以添加链接" data-astro-cid-shcts5ct> <p class="mt-1 text-xs text-gray-500" data-astro-cid-shcts5ct>用户点击文章时会跳转到此链接</p> </div> </div> </div> <!-- Markdown 编辑器 --> <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden" data-astro-cid-shcts5ct> <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50" data-astro-cid-shcts5ct> <h2 class="text-lg font-semibold text-gray-900" data-astro-cid-shcts5ct>文章内容</h2> <div class="flex items-center gap-3" data-astro-cid-shcts5ct> <button type="button" id="preview-toggle" class="px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors" data-astro-cid-shcts5ct> <span id="preview-text" data-astro-cid-shcts5ct>显示预览</span> </button> <div class="text-sm text-gray-500" data-astro-cid-shcts5ct>
支持 <a href="https://www.markdownguide.org/basic-syntax/" target="_blank" class="text-blue-600 hover:underline" data-astro-cid-shcts5ct>Markdown 语法</a> </div> </div> </div> <div class="flex" style="height: 600px;" data-astro-cid-shcts5ct> <!-- 编辑器 --> <div id="editor-pane" class="flex-1 flex flex-col min-w-0" data-astro-cid-shcts5ct> <div class="flex-1 relative" data-astro-cid-shcts5ct> <textarea id="content" name="content" class="w-full h-full p-6 border-0 resize-none focus:ring-0 focus:outline-none font-mono text-sm leading-relaxed" placeholder="# 开始编辑..." data-astro-cid-shcts5ct>${post.content}</textarea> </div> </div> <!-- 预览区域 --> <div id="preview-pane" class="hidden flex-1 border-l border-gray-200 min-w-0" data-astro-cid-shcts5ct> <div class="flex-1 p-6 overflow-y-auto bg-gray-50" data-astro-cid-shcts5ct> <div id="preview-content" class="prose prose-sm max-w-none" data-astro-cid-shcts5ct> <p class="text-gray-500 italic" data-astro-cid-shcts5ct>预览内容将在这里显示...</p> </div> </div> </div> </div> </div> </form> </div> </div> ` }), defineScriptVars({ post, postId }));
}, "/home/zhuima/github/javascript/EeveNav/src/pages/admin/posts/edit/[id].astro", void 0);

const $$file = "/home/zhuima/github/javascript/EeveNav/src/pages/admin/posts/edit/[id].astro";
const $$url = "/admin/posts/edit/[id]";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$id,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
