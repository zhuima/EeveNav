# AffDirs ğŸ§­

> ç²¾é€‰èµ„æºå¯¼èˆª - ä¸€ä¸ªç°ä»£åŒ–çš„èµ„æºæ”¶è—ä¸åˆ†äº«å¹³å°

AffDirs æ˜¯ä¸€ä¸ªåŸºäº Astro æ¡†æ¶æ„å»ºçš„ç°ä»£åŒ–èµ„æºå¯¼èˆªç½‘ç«™ï¼Œä¸“ä¸ºæ”¶è—ã€ç®¡ç†å’Œåˆ†äº«ä¼˜è´¨ç½‘ç»œèµ„æºè€Œè®¾è®¡ã€‚å®ƒæä¾›äº†ç›´è§‚çš„ç”¨æˆ·ç•Œé¢ã€å¼ºå¤§çš„æœç´¢åŠŸèƒ½å’Œå®Œæ•´çš„å†…å®¹ç®¡ç†ç³»ç»Ÿã€‚

## âœ¨ ç‰¹æ€§

### ğŸ” æ™ºèƒ½æœç´¢
- **å®æ—¶æœç´¢** - æ”¯æŒæ ‡é¢˜ã€æè¿°ã€åˆ†ç±»å’Œæ ‡ç­¾çš„å…¨æ–‡æœç´¢
- **é˜²æŠ–ä¼˜åŒ–** - 300ms é˜²æŠ–æœºåˆ¶ï¼Œæå‡æœç´¢ä½“éªŒ
- **å¿«æ·é”®æ”¯æŒ** - `âŒ˜+K` æˆ– `Ctrl+K` å¿«é€Ÿæ‰“å¼€æœç´¢

### ğŸ“‚ å†…å®¹ç®¡ç†
- **åˆ†ç±»ç³»ç»Ÿ** - çµæ´»çš„èµ„æºåˆ†ç±»ç®¡ç†
- **æ ‡ç­¾åŠŸèƒ½** - å¤šæ ‡ç­¾æ”¯æŒï¼Œä¾¿äºèµ„æºæ ‡è®°å’Œç­›é€‰
- **å¤–éƒ¨é“¾æ¥** - æ”¯æŒç›´æ¥è·³è½¬åˆ°å¤–éƒ¨èµ„æº
- **å›¾ç‰‡å°é¢** - ç¾è§‚çš„å¡ç‰‡å¼èµ„æºå±•ç¤º

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **æš—è‰²æ¨¡å¼** - æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **ç°ä»£UI** - åŸºäº UnoCSS çš„ç°ä»£åŒ–ç•Œé¢è®¾è®¡
- **å¹³æ»‘åŠ¨ç”»** - ä¼˜é›…çš„è¿‡æ¸¡æ•ˆæœå’Œäº¤äº’åŠ¨ç”»

### ğŸ› ï¸ ç®¡ç†åŠŸèƒ½
- **å†…å®¹ç®¡ç†** - å®Œæ•´çš„åå°ç®¡ç†ç³»ç»Ÿ
- **æ‰¹é‡æ“ä½œ** - æ”¯æŒæ–‡ç« çš„å¢åˆ æ”¹æŸ¥
- **æ•°æ®ç»Ÿè®¡** - èµ„æºæ•°é‡å’Œåˆ†ç±»ç»Ÿè®¡
- **è®¿é—®æ§åˆ¶** - ç®€å•çš„ç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿ

## ğŸš€ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: [Astro](https://astro.build/) - ç°ä»£é™æ€ç«™ç‚¹ç”Ÿæˆå™¨
- **è¿è¡Œæ—¶**: [Node.js](https://nodejs.org/) - æœåŠ¡ç«¯æ¸²æŸ“æ”¯æŒ
- **æ ·å¼å¼•æ“**: [UnoCSS](https://unocss.dev/) - åŸå­åŒ–CSSæ¡†æ¶
- **æ•°æ®åº“**: [Turso](https://turso.tech/) - è¾¹ç¼˜SQLiteæ•°æ®åº“
- **ç±»å‹å®‰å…¨**: [TypeScript](https://www.typescriptlang.org/) - é™æ€ç±»å‹æ£€æŸ¥
- **ä»£ç è§„èŒƒ**: [ESLint](https://eslint.org/) + [Prettier](https://prettier.io/) - ä»£ç è´¨é‡ä¿è¯

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm æˆ– yarn æˆ– pnpm

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd AffDirs

# å®‰è£…ä¾èµ–
npm install
# æˆ–è€…
yarn install
```

### ç¯å¢ƒé…ç½®

1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š
```bash
cp .env.example .env
```

2. é…ç½® Turso æ•°æ®åº“ï¼š
```env
TURSO_DATABASE_URL=libsql://your-database-url.turso.io
TURSO_AUTH_TOKEN=your-auth-token
```

> ğŸ’¡ **è·å– Turso å‡­æ®**:
> 1. æ³¨å†Œ [Turso è´¦å·](https://turso.tech/)
> 2. åˆ›å»ºæ–°æ•°æ®åº“
> 3. è·å–æ•°æ®åº“URLå’Œè®¤è¯ä»¤ç‰Œ

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# é¡¹ç›®å°†åœ¨ http://localhost:4321 å¯åŠ¨
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# ç±»å‹æ£€æŸ¥å¹¶æ„å»º
npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
AffDirs/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.astro    # ç½‘ç«™å¤´éƒ¨ï¼ˆå«æœç´¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ Footer.astro    # ç½‘ç«™åº•éƒ¨
â”‚   â”‚   â”œâ”€â”€ Sidebar.astro   # ä¾§è¾¹æ 
â”‚   â”‚   â””â”€â”€ Max/            # æœç´¢ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/            # é¡µé¢å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ Layout.astro    # åŸºç¡€å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ PostLayout.astro # æ–‡ç« é¡µå¸ƒå±€
â”‚   â”‚   â””â”€â”€ AdminLayout.astro # ç®¡ç†åå°å¸ƒå±€
â”‚   â”œâ”€â”€ pages/              # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ index.astro     # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ blog.astro      # åšå®¢åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ about.astro     # å…³äºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ login.astro     # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ admin.astro     # ç®¡ç†åå°
â”‚   â”‚   â”œâ”€â”€ posts/          # æ–‡ç« é¡µé¢
â”‚   â”‚   â”œâ”€â”€ categories/     # åˆ†ç±»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ tags/           # æ ‡ç­¾é¡µé¢
â”‚   â”‚   â””â”€â”€ api/            # API è·¯ç”±
â”‚   â”œâ”€â”€ lib/                # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ database.ts     # æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â””â”€â”€ migration.ts    # æ•°æ®è¿ç§»
â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ dist/                   # æ„å»ºè¾“å‡º
â””â”€â”€ package.json
```

## ğŸ—„ï¸ æ•°æ®åº“

### æ•°æ®æ¨¡å‹

é¡¹ç›®ä½¿ç”¨ Tursoï¼ˆè¾¹ç¼˜SQLiteï¼‰ä½œä¸ºæ•°æ®åº“ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦è¡¨ï¼š

- **posts** - æ–‡ç« /èµ„æºä¸»è¡¨
- **categories** - åˆ†ç±»è¡¨
- **tags** - æ ‡ç­¾è¡¨
- **post_tags** - æ–‡ç« æ ‡ç­¾å…³è”è¡¨

### æ•°æ®åº“åˆå§‹åŒ–

æ•°æ®åº“è¡¨ä¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºã€‚å¦‚éœ€æ‰‹åŠ¨è¿ç§»æ•°æ®ï¼š

```bash
# å¦‚æœæœ‰æœ¬åœ° SQLite æ•°æ®éœ€è¦è¿ç§»åˆ° Turso
# æ•°æ®ä¼šè‡ªåŠ¨åŒæ­¥ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
```

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡

| å˜é‡å | æè¿° | å¿…éœ€ |
|--------|------|------|
| `TURSO_DATABASE_URL` | Turso æ•°æ®åº“è¿æ¥URL | âœ… |
| `TURSO_AUTH_TOKEN` | Turso è®¤è¯ä»¤ç‰Œ | âœ… |

### UnoCSS é…ç½®

é¡¹ç›®ä½¿ç”¨ UnoCSS è¿›è¡Œæ ·å¼ç®¡ç†ï¼Œé…ç½®æ–‡ä»¶ä½äº `uno.config.ts`ï¼š

```typescript
// æ”¯æŒæš—è‰²æ¨¡å¼ã€è‡ªå®šä¹‰é¢œè‰²ä¸»é¢˜ç­‰
export default defineConfig({
  // é…ç½®è¯¦æƒ…...
})
```

## ğŸ“¡ API æ–‡æ¡£

### æ–‡ç«  API

**è·å–æ‰€æœ‰æ–‡ç« **
```http
GET /api/blog?action=posts
```

**æœç´¢æ–‡ç« **
```http
GET /api/blog?search=å…³é”®è¯
```

**æ·»åŠ æ–‡ç« **
```http
POST /api/blog
Content-Type: application/json

{
  "action": "add",
  "data": {
    "title": "æ–‡ç« æ ‡é¢˜",
    "date": "2024-01-01T00:00:00.000Z",
    "des": "æ–‡ç« æè¿°",
    "cover": "https://example.com/cover.jpg",
    "category": "åˆ†ç±»åç§°",
    "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
    "content": "æ–‡ç« å†…å®¹",
    "slug": "article-slug",
    "external_url": "https://example.com" // å¯é€‰
  }
}
```

### åˆ†ç±»å’Œæ ‡ç­¾ API

**è·å–åˆ†ç±»åˆ—è¡¨**
```http
GET /api/blog?action=categories
```

**è·å–æ ‡ç­¾åˆ—è¡¨**
```http
GET /api/blog?action=tags
```

## ğŸš€ éƒ¨ç½²

### Cloudflare Pages

1. **å‡†å¤‡ç¯å¢ƒå˜é‡**
   åœ¨ Cloudflare Pages è®¾ç½®ä¸­æ·»åŠ ï¼š
   ```
   TURSO_DATABASE_URL=your-database-url
   TURSO_AUTH_TOKEN=your-auth-token
   ```

2. **æ„å»ºè®¾ç½®**
   ```
   Build command: npm run build
   Build output directory: dist
   ```

3. **éƒ¨ç½²**
   ```bash
   # æ¨é€åˆ° Git ä»“åº“ï¼ŒCloudflare Pages ä¼šè‡ªåŠ¨éƒ¨ç½²
   git push origin main
   ```

### å…¶ä»–å¹³å°

é¡¹ç›®æ”¯æŒéƒ¨ç½²åˆ°ä»»ä½•æ”¯æŒ Node.js SSR çš„å¹³å°ï¼š

- **Vercel**: é›¶é…ç½®éƒ¨ç½²
- **Netlify**: æ”¯æŒè¾¹ç¼˜å‡½æ•°
- **Railway**: å…¨æ ˆåº”ç”¨å¹³å°
- **è‡ªæ‰˜ç®¡**: ä½¿ç”¨ Docker æˆ– PM2

## ğŸ§ Commands

All commands are run from the root of the project, from a terminal:

| Command                   | Action                                           |
| :------------------------ | :----------------------------------------------- |
| `npm install`             | Installs dependencies                            |
| `npm run dev`             | Starts local dev server at `localhost:4321`      |
| `npm run build`           | Build your production site to `./dist/`          |
| `npm run preview`         | Preview your build locally, before deploying     |
| `npm run astro ...`       | Run CLI commands like `astro add`, `astro check` |
| `npm run astro -- --help` | Get help using the Astro CLI                     |
| `npm run lint`            | Run ESLint to check code quality                |
| `npm run lint:fix`        | Run ESLint and fix issues automatically         |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/amazing-feature`
5. æäº¤ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ ESLint å’Œ Prettier ä¿æŒä»£ç é£æ ¼ä¸€è‡´
- éµå¾ª TypeScript æœ€ä½³å®è·µ
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- ç¡®ä¿æ„å»ºé€šè¿‡: `npm run build`

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.0.1 (Current)
- âœ… åŸºç¡€åŠŸèƒ½å®ç°
- âœ… Turso æ•°æ®åº“é›†æˆ
- âœ… æœç´¢åŠŸèƒ½
- âœ… ç®¡ç†åå°
- âœ… å“åº”å¼è®¾è®¡
- âœ… æš—è‰²æ¨¡å¼æ”¯æŒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Astro](https://astro.build/) - ä¼˜ç§€çš„ç°ä»£åŒ–æ¡†æ¶
- [Turso](https://turso.tech/) - å¼ºå¤§çš„è¾¹ç¼˜æ•°æ®åº“
- [UnoCSS](https://unocss.dev/) - çµæ´»çš„åŸå­åŒ–CSS
- [Tabler Icons](https://tabler-icons.io/) - ç²¾ç¾çš„å›¾æ ‡åº“

## ğŸ‘€ Want to learn more?

Feel free to check [Astro documentation](https://docs.astro.build) or jump into the [Astro Discord server](https://astro.build/chat).

---

<div align="center">

**Made with â¤ï¸ using Astro**

</div>
